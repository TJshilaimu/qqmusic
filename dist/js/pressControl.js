"use strict";!function(t){function e(){this.dur=0,this.frameId=0,this.startTime=0,this.lastTime=0,this.getDom()}function i(t){this.obj=t,this.startPoint=0,this.startLeft=0,this.percent=0,this.disPointX=0,this.touchStart()}e.prototype={getDom:function(){this.current=document.querySelector(".process .currentTime"),this.total=document.querySelector(".process .totalTime"),this.line=document.querySelector(".press .frontBg"),this.dot=document.querySelector(".press .dot")},formatTime:function(t){t=Math.round(t);var e=Math.floor(t/60),i=t%60;return(e=e<10?"0"+e:e)+":"+(i=i<10?"0"+i:i)},renderAllTime:function(t){this.dur=t,t=this.formatTime(t),this.total.innerText=t},start:function(t,s){var r=this;this.lastTime=null==t?this.lastTime:t,this.startTime=(new Date).getTime(),cancelAnimationFrame(this.frameId),function t(){var e=(new Date).getTime(),i=r.lastTime+(e-r.startTime)/(1e3*r.dur);i<=1?r.update(i,s):cancelAnimationFrame(r.frameId),r.frameId=requestAnimationFrame(t)}()},update:function(t,e){var i,s=t*this.dur,s=this.formatTime(s);this.current.innerText=s,this.line.style.width=100*t+"%",e||(i=t*this.dot.parentNode.offsetWidth,this.dot.style.transform="translateX("+i+"px)")},stop:function(){cancelAnimationFrame(this.frameId);var t=(new Date).getTime();this.lastTime=this.lastTime+(t-this.startTime)/(1e3*this.dur)}},i.prototype={touchStart:function(){var i=this;this.obj.style.transform="translateX(0)",this.obj.addEventListener("touchstart",function(t){i.startPoint=t.changedTouches[0].pageX,i.startLeft=parseFloat(this.style.transform.split("(")[1]),i.start&&i.start()}),this.obj.addEventListener("touchmove",function(t){i.disPointX=t.changedTouches[0].pageX-i.startPoint;var e=i.startLeft+i.disPointX;e<0?e=0:e>this.offsetParent.offsetWidth&&(e=this.offsetParent.offsetWidth),this.style.transform="translateX("+e+"px)",i.percent=e/this.offsetParent.offsetWidth,i.move&&i.move(i.percent)}),this.obj.addEventListener("touchend",function(t){i.end&&i.end(i.percent)})}},t.pro={pros:function(){return new e},drag:function(t){return new i(t)}}}(window.player||(window.player={}));